---
layout: post
title:  "MacBook问题之SMC"
date:   2016-05-28 19:52:45
categories: kaupelot MacBook
---

最近在荔枝数码推荐下购买了一个app叫MacID,配合MacBook上面的app可以远程给MacBook锁屏与指纹解锁.换种高大上的方式锁定电脑,MacBook唤醒后,只要在iPhone上一按指纹就解锁了,逼格瞬间猛增.但是问题是,过了一段时间发现在休眠后一段时间MacBook就会莫名其妙风扇开始呼呼响.各种尝试之后发现并不全是macID的问题.搜索一下,发现原来是MacBook的SMC机制导致的.其他比如卡屏，预览迟钝，关机速度变慢，发热等许多问题，其实重置SMC和NVRAM即可解决。

0. 重启，很多时候重启是万能的
1. 重置系统管理控制器（SMC）

（可拆卸电池的笔记本）

- 关电脑
- 拔电源
- 取出电池
- 按住电源按钮 5 秒钟
- 松开电源按钮
- 重新连接电池和电源
- 开机

（不可拆掉电池的笔记本）

- 关电脑
- 如果没连接电源，连接上电源
- 键盘上同时按下（左侧）Shift-Control-Option 和电源按钮
- 同时松开所有键和电源按钮
- 开机
（重置 SMC 时，电源适配器上的 LED 指示灯可能会更改状态或暂时关闭）

（iMac，MacMini，MacPro）

- 关电脑。
- 拔电源。
- 等待十五秒
- 连上电源
- 等待五秒
- 开机

2. 重置非易失性随机访问存储器（NVRAM）:
1. 在开机时候按住command+option+r+p
2. 当听见咣一声之后电脑自动重启
3. 有的时候可能需要让它“咣”几次

认识什么是 SMC

在基于 Intel 的 Mac 上，系统管理控制器（SMC）负责管理很多低级功能。这些功能包括：

- 对按下电源按钮的操作做出响应
- 对便携式 Mac 上显示器屏幕盖的开合做出响应
- 电池管理
- 热能管理
- SMS（突发移动感应器）
- 环境光度感应
- 键盘背光
- 状态指示灯（SIL）管理
- 电池状态指示灯
- 为有些 iMac 显示器选择外部（而非内部）视频来源

注：重置 SMC 不会重置或者更改 PRAM 的内容，PRAM 在基于 Intel 的 Mac 上也称为 NVRAM。

认识什么是 NVRAM (NV缓存) 与 PRAM (PR缓存)

Mac 会将某些设置储存在特殊内存区域中，而且即使关机这些设置也不会丢失（除非存在下方所述的电池问题）。 在基于 Intel 的 Mac 上，存储位置是称为 NVRAM 的内存；而在基于PowerPC 的 Mac 上，存储位置则是称为 PRAM 的内存。NVRAM 或 PRAM 中存储的信息可能包括：

扬声器音量
屏幕分辨率
启动磁盘选择
如果遇到与上述功能相关的问题，则可能需要重置 NVRAM 或 PRAM。例如，如果 Mac 从“启动磁盘”偏好设置中指定之外的启动磁盘启动，或者如果 Mac 启动时立刻显示“问号”图标，重置 NVRAM 或 PRAM 可能会有帮助。

这里特别需要注意的是 不管是 NVRAM还是 PRAM 都不是存储数据文件的 仅保存硬件配置.

重置 NVRAM 或 PRAM 之后，可能需要重新配置扬声器音量、屏幕分辨率、启动磁盘选择和时区信息等设置。如果问题仍然存在，则可能需要更换 Mac 的主板电池（不是便携式 Mac 的可充电电池）。主板电池帮助在电脑关机时保留 NVRAM/PRAM 设置。您可以将 Mac 送至 Mac Genius 或 Apple 授权服务提供商处来更换主板上的电池。

PRAM 的内容
部分 Macintosh 电脑可能并不具有下述所有设置。

AppleTalk 的状态
串行端口配置和端口定义
闹钟设置
应用程序字体
串行打印机位置
自动键速率
自动键延迟
扬声器音量
提示（蜂鸣）音
连按时间
插入符闪烁时间（插入点速率）
鼠标缩放（鼠标速率）
启动磁盘
菜单闪现次数
监视器位深
32 位寻址
虚拟内存
RAM 磁盘
磁盘高速缓存

何种问题可以通过重置  PRAM(PR缓存) 与 NVRAM (NV缓存)来解决
NVRAM 内容

如果遇到

- 扬声器音量
- 屏幕分辨率
- 启动磁盘选择

相关的问题，则可能需要重置 NVRAM 或 PRAM。例如，如果 Mac 从“启动磁盘”偏好设置中指定之外的启动磁盘启动，或者如果 Mac 启动时立刻显示“问号”图标，重置 NVRAM 或 PRAM 可能会有帮助。

PRAM

PRAM 会在 Mac OS X 可快速访问的位置存储某些系统和设备设置。至于电脑的 PRAM 中具体会存储什么样设置，则取决于电脑类型以及电脑所连的设备和驱动器类型。参数 RAM 是非易失 RAM (NVRAM) 的一小部分。

PRAM 中存储的部分信息包括：

显示和视频设置，例如刷新率、屏幕分辨率、颜色数
启动磁盘选择
扬声器音量
近期的内核应急开关信息（如果有的话）
DVD 区域设置
注：Mac OS X 会将预选择的 DVD 区域选项存储到 PRAM 中，以便于访问。重置 PRAM 并不能对 DVD 区域进行更改。

* 为了确保万无一失, 老人一直告诉我们最好重置三回, 但是其实一次真的就够了. 但是三回也没有坏处.

* 新款部分电脑还可以通过按住 Command - Option - N - V 来重置 NV缓存.
Q & A:

1. 到底什么时候需要清理 PR缓存与 NV缓存.
其实很少会用到这个清理功能, 但是如果电脑出现了某些您未曾遇到的情况.
可以先选择清理 PR缓存 NV缓存 .

2. 能解决启动慢的问题吗?
个人觉得解决不了 , 只会让清理后的启动速度变慢. 因为缓存被清空了.
系统配置需要重建.

3. 还有什么时候需要重置?
如下是必须进行重置操作的:
1. 硬件有变化 如更换内存硬盘等.
2. 电脑硬件有明显问题 如失灵 工作不正常.
3. 1个月做一次没有坏处.

参考:
https://support.apple.com/zh-cn/HT201295